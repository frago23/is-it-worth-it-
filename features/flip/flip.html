<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Flip</title>
     <script src="https://unpkg.com/vue@next"></script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
          crossorigin="anonymous"></script>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
     <link href="./flip.css" rel="stylesheet" />
     <style>
          body {
               display: flex;
               align-items: center;
               justify-content: center;
               color: white;
               background-color: #1F1D36;
          }
     </style>
</head>

<body>
     <div id="flip" class="container flip d-flex flex-column">
          <ul class="nav nav-pills">
               <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="../enchant/enchant.html">
                         Enchant
                    </a>
               </li>
               <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">
                         Flip
                    </a>
               </li>
          </ul>

          <h2>Flip</h2>
          <div class="d-flex flex-wrap">
               <div class="flip-buy-form">
                    <div class="mb-3">
                         <div class="form-text">Input the buy price of the item</div>
                         <input type="number" min="0" v-model.lazy="buy_price_main" class="form-control"
                              id="enchant-buy-price" v-on:change="calculateProfit()">
                    </div>

                    <div class="mb-3">
                         <div class="form-text">Input total items number</div>
                         <input type="number" min="0" v-model.lazy="main_count" class="form-control"
                              id="enchant-buy-price" v-on:change="calculateProfit()">
                    </div>

                    <p>Total cost: <strong>{{ main_total }}</strong></p>

                    <div class="form-check">
                         <input class="form-check-input" type="checkbox" v-model="isBuyOrderMain"
                              v-on:change="calculateProfit()" id="enchant-buy-order-check-main">
                         <label class="form-check-label" for="enchant-buy-order-check-main">
                              Apply buy order tax (1.5%)
                         </label>
                    </div>
               </div>

               <div class="flip-buy-form">
                    <div class="mb-3">
                         <div class="form-text">Input sell price</div>
                         <input type="number" v-model.lazy="sell_price" min="0" v-on:change="calculateProfit()"
                              class="form-control" id="enchant-buy-price">
                    </div>

                    <p>Sell price - no tax: <strong>{{ total_sell_price }}</strong></p>
                    <p>Sell price - w/ tax: <strong>{{ finalSellPrice }}</strong></p>

                    <div class="form-check">
                         <input class="form-check-input" type="checkbox" v-model="premiumActive"
                              v-on:change="calculateProfit()" id="premium-user">
                         <label class="form-check-label" for="premium-user">
                              Premium active
                         </label>
                    </div>
               </div>
          </div>

          <div class="flip-buy-form" :class="[hasProfit ? 'profit' : 'loss']">
               <h2 class="form-label">Profit</h2>
               <p>Total cost: {{ total_cost }}</p>
               <ul>
                    <li>[Buy] setup fee main {{ setupFeePerc }}%: <strong>{{ buy_main_setupFee }}</strong></li>
                    <li>[Sale] market tax {{ marketTaxPerc }}%: <strong>{{ sell_market_tax }}</strong></li>
                    <li>[Sale] setup fee {{ setupFeePerc }}%: <strong>{{ sell_setupFee }}</strong></li>
               </ul>
               <p>Profit: <strong>{{ profit }}</strong></p>
          </div>
     </div>

     <script src="./flip.js"></script>
</body>

</html>